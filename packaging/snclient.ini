[/paths]
; path to snclient executable (auto-detected)
exe-path =

; path to shared things
shared-path = /etc/snclient

; path to scripts
scripts = ${shared-path}/scripts

; Path for certificates
certificate-path = ${shared-path}

[/modules]
WEBServer = enabled
NRPEServer = enabled
PrometheusServer = enabled

CheckExternalScripts = disabled
CheckSystem = enabled
CheckSystemUnix = enabled

[/settings/default]
; allowed hosts - list of ips/networks/hostname allowed to connect.
allowed hosts = 127.0.0.1, ::1

; cache allowed hosts - cache resolved dns names.
cache allowed hosts = true

; timeout - timeout when reading packets on incoming sockets.
timeout = 30

; bind to - allows you to bind server to a specific local address. This has to be a dotted ip address not a host name. Leaving this blank will bind to all available IP addresses.
bind to =

# set minimum allowed tls version, leave empty to allow all version or specify one of: tls1.0, tls1.1, tls1.2, tls1.3
tls min version = "tls1.1"

; LOG SECTION - Configure log properties.
[/settings/log]

; FILENAME - The file to write log data to. Set this to none to disable log to file or use "stdout" or "stderr" to log there.
file name = /var/log/snclient/snclient.log

; LOG LEVEL - Log level to use. Available levels are error,warning,info,debug,trace
level = info

; LOG SECTION - Configure log file properties.
[/settings/log/file]

; MAXIMUM FILE SIZE - When file size reaches this it will be truncated to 50% if set to 0 truncation will be disabled
max size = 0

[/settings/updates]
; update snclient automatically
automatic updates = disabled

; automatically restart snclient after update is finished
automatic restart = disabled

; check this url if an update is available
; this is the stable release channel
update url = https://api.github.com/repos/ConSol-monitoring/snclient/releases

; this url is for the development channel
;update url = https://github.com/ConSol-monitoring/snclient/actions

; any other url works as well
;update url = https://company-server.local/snclient/snclient-${goos}-${goarch}

;insecure = false

; set time range(s) in which updates are allowed
;update hours = 0-24

; set day range(s) in which updates are allowed
;update days  = mon-sun

[/settings/NRPE/server]
verify mode = peer-cert

insecure = false

; COMMAND ALLOW NASTY META CHARS - This option determines whether or not the we will allow clients to specify nasty (as in |`&><'"\[]{}) characters in arguments.
allow nasty characters = false

; port - Port to use for NRPE.
port = 5666

; COMMAND ARGUMENT PROCESSING - This option determines whether or not the we will allow clients to specify arguments to commands that are executed.
allow arguments = false

; EXTENDED RESPONSE - Send more then 1 return packet to allow response to go beyond payload size (requires modified client if legacy is true this defaults to false).
extended response = true

; ENABLE SSL ENCRYPTION - This option controls if SSL should be enabled.
use ssl = true

; certificate - ssl certificate to use for the ssl server
certificate = ${certificate-path}/server.crt

; private key - ssl private key to use for the ssl server
certificate key = ${certificate-path}/server.key

; Windows system - Section for system checks and system settings
[/settings/system/windows]

; Default buffer time - Used to define the default size of range buffer checks (ie. CPU).
default buffer length = 1h


; Real-time filtering - A set of options to configure the real time checks
[/settings/logfile/real-time]

; Real time - Spawns a background thread which waits for file changes.
enabled = false

; Wrapped scripts - A list of wrapped scripts (ie. script using a template mechanism). The template used will be defined by the extension of the script. Thus a foo.ps1 will use the ps1 wrapping from the wrappings section.
[/settings/external scripts/wrapped scripts]


; External scripts - A list of scripts available to run from the CheckExternalScripts module. Syntax is: `command=script arguments`
[/settings/external scripts/scripts]


; Realtime cpu filters - A set of filters to use in real-time mode
[/settings/system/windows/real-time/cpu]


; Command aliases - A list of aliases for already defined commands (with arguments). An alias is an internal command that has been predefined to provide a single command without arguments. Be careful so you don't create loops (ie check_loop=check_a, check_a=check_loop)
[/settings/external scripts/alias]


; External script settings - General settings for the external scripts module (CheckExternalScripts).
[/settings/external scripts]

; Command timeout - The maximum time in seconds that a command can execute. (if more then this execution will be aborted). NOTICE this only affects external commands not internal ones.
timeout = 60

; Load all scripts in a given folder - Load all scripts in a given directory and use them as commands.
script path = UNKNOWN

; Allow certain potentially dangerous characters in arguments - This option determines whether or not the we will allow clients to specify nasty (as in |`&><'"\[]{}) characters in arguments.
allow nasty characters = false

; Allow arguments when executing external scripts - This option determines whether or not the we will allow clients to specify arguments to commands that are executed.
allow arguments = false

; Script root folder - Root path where all scripts are contained (You can not upload/download scripts outside this folder).
script root = ${scripts}


; Web server - Section for http REST service
[/settings/WEB/server]
; password - must be changed from default value, set to empty string to disable password.
password = CHANGEME

; port - Port to use for WEB server.
port = 8443

; certificate - ssl certificate to use for the ssl server
certificate = ${certificate-path}/server.crt

; private key - ssl private key to use for the ssl server
certificate key = ${certificate-path}/server.key

; Script wrappings - A list of templates for defining script commands. Enter any command line here and they will be expanded by scripts placed under the wrapped scripts section. %SCRIPT% will be replaced by the actual script an %ARGS% will be replaced by any given arguments.
[/settings/external scripts/wrappings]

; Batch file - Command used for executing wrapped batch files
bat = scripts\\%SCRIPT% %ARGS%

; Visual basic script - Command line used for wrapped vbs scripts
vbs = cscript.exe //T:30 //NoLogo scripts\\lib\\wrapper.vbs %SCRIPT% %ARGS%

; POWERSHELL WRAPPING - Command line used for executing wrapped ps1 (powershell) scripts
ps1 = cmd /c echo If (-Not (Test-Path "scripts\%SCRIPT%") ) { Write-Host "UNKNOWN: Script `"%SCRIPT%`" not found."; exit(3) }; scripts\%SCRIPT% $ARGS$; exit($lastexitcode) | powershell.exe /noprofile -command -


[/settings/Prometheus/server]


; INCLUDED FILES - Files to be included in the configuration
[/includes]
